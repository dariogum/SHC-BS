<mat-toolbar color="primary">
  <span>Turnos</span>
  <span class="toolbar-spacer"></span>
  <button mat-icon-button matTooltip="Registrar un turno" (click)="appService.openAppointmentBottomSheet(newAppointment)">
    <mat-icon aria-label="">add_circle_outline</mat-icon>
  </button>
  <button mat-icon-button matTooltip="Abrir el menu" (click)="appService.toggleSidenav()">
    <mat-icon aria-label="Menu">menu</mat-icon>
  </button>
</mat-toolbar>
<mat-card class="mat-elevation-z0">
  <mat-card-subtitle>{{data.title}}</mat-card-subtitle>
  <mat-card-content>
    <mat-form-field>
      <mat-select name="schedule" [(ngModel)]="schedule" placeholder="Agenda" required>
        <mat-option [value]="1">Agenda 1</mat-option>
        <mat-option [value]="2">Agenda 2</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <input matInput [matDatepicker]="picker" placeholder="Fecha" [(ngModel)]="date">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker touchUi #picker></mat-datepicker>
    </mat-form-field>
    <mat-form-field>
      <mat-select name="filter" [(ngModel)]="filters" placeholder="Filtros" multiple>
        <mat-option [value]="1">Confirmados</mat-option>
        <mat-option [value]="2">No confirmados</mat-option>
        <mat-option [value]="3">Recordatorio no enviado</mat-option>
        <mat-option [value]="4">Reprogramados</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field class="full-width">
      <mat-label>Buscar un turno</mat-label>
      <input matInput #search placeholder="Por ejemplo: Juan Perez o 10:45">
      <mat-icon *ngIf="!search.value" matSuffix>search</mat-icon>
      <button type="button" mat-icon-button *ngIf="search.value" aria-label="Limpiar la búsqueda" (click)="search.value=''"
        matTooltip="Limpiar la búsqueda" matSuffix>
        <mat-icon>clear</mat-icon>
      </button>
      <mat-hint *ngIf="search.value.length < 3">Ingrese al menos 3 caracteres</mat-hint>
      <mat-hint *ngIf="searching">Buscando...</mat-hint>
      <mat-hint align="end" *ngIf="data.items">{{data.items.length}} turnos encontrados</mat-hint>
    </mat-form-field>
    <mat-list>
      <mat-list-item *ngFor="let item of data.items" (click)="appService.openAppointmentBottomSheet(item)">
        <mat-icon matListIcon [color]="item.confirmed ? 'primary' : 'warn'" [matTooltip]="item.confirmed ? 'Confirmado' : 'No confirmado'">event</mat-icon>
        <h3 matLine>Paciente: <span class="mat-body-2">{{item.patient.lastname}} {{item.patient.name}}</span></h3>
        <p matLine>Hora: <span class="mat-body-2">{{item.hour}}</span></p>
        <p matLine>Profesional: <span class="mat-body-2">{{item.professional.lastname}} {{item.professional.name}}</span></p>
      </mat-list-item>
    </mat-list>
  </mat-card-content>
</mat-card>